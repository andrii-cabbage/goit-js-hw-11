{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["const API_KEY = `44952732-afe4551e0894d66c0b6ee4476`;\n\nexport function fetchImages(query) {\n  const url = `https://pixabay.com/api/?key=${API_KEY}&q=${query}&image_type=photo&orientation=horizontal&safesearch=true`;\n\n  return fetch(url).then(res => {\n    if (!res.ok) {\n      throw new Error(res.status);\n    }\n    return res.json();\n  });\n}","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nexport function noImagesMessage() {\n  iziToast.show({\n    message:\n      'Sorry, there are no images matching your search query. Please try again!',\n    class: 'toast-style',\n    messageColor: 'white',\n    titleColor: 'white',\n    iconColor: 'white',\n  });\n}\n\nexport function noApiResponse() {\n  iziToast.info({\n    title: 'Info',\n    message: 'No images found.',\n    class: 'toast-style',\n    messageColor: 'white',\n    titleColor: 'white',\n    iconColor: 'white',\n  });\n}\n\nexport function createImageCard({\n  webformatURL,\n  largeImageURL,\n  tags,\n  likes,\n  views,\n  comments,\n  downloads,\n}) {\n  return `\n  <div class =\"image-container\">\n    <a href=\"${largeImageURL}\" class = \"image-link\">\n\n    <li class=\"image-item\">\n      <img src=\"${webformatURL}\" alt=\"${tags}\" />\n    </li>\n    <div class =\"\">\n      <li class=\"image-item-info\">\n        <p><span class = \"comment-head\">Likes</span> ${likes}</p>\n        <p><span class = \"comment-head\">Views</span> ${views}</p>\n        <p><span class = \"comment-head\">Comments</span> ${comments}</p>\n        <p><span class = \"comment-head\">Downloads</span> ${downloads}</p>\n      </li>\n    </div>\n    </a>\n  </div>\n  `;\n}","import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\nimport { fetchImages } from './js/pixabay-api.js';\nimport { noApiResponse, noImagesMessage } from './js/render-functions.js';\nimport './css/header.css';\nimport { createImageCard } from './js/render-functions.js';\n\nconst elements = {\n  submitBtn: document.querySelector(`.js-submit-btn`),\n  form: document.querySelector(`form[data-form]`),\n  input: document.querySelector(`input[data-input]`),\n  gallery: document.querySelector(`.gallery`),\n  loading: document.querySelector(`.loadingText`),\n};\n\nconst lightbox = new SimpleLightbox('.image-link', {\n  captions: true,\n  captionSelector: `img`,\n  captionsData: `alt`,\n  captionType: `attr`,\n  captionPosition: `bottom`,\n  captionDelay: 250,\n});\n\nfunction handleFormSubmit(event) {\n  event.preventDefault();\n\n  const trimmedInput = elements.input.value.trim();\n  const userInputValue = elements.input.value;\n\n  function emptyInputInfo() {\n    if (trimmedInput === '') {\n      elements.submitBtn.disabled = true;\n      console.log(`input is empty`);\n      noImagesMessage();\n      return true;\n    }\n    elements.submitBtn.disabled = false;\n    return false;\n  }\n\n  const loadingText = document.getElementById('loadingText');\n\n  function processImages(res) {\n    const images = res.hits;\n    let imageMarkup = '';\n    images.forEach(image => {\n      imageMarkup += createImageCard(image);\n    });\n    elements.gallery.innerHTML = imageMarkup;\n    lightbox.refresh();\n  }\n\n  elements.gallery.innerHTML = '';\n  elements.form.reset();\n\n  if (emptyInputInfo()) {\n    elements.submitBtn.disabled = false;\n    return;\n  }\n\n  elements.loading.style.display = 'block';\n\n  fetchImages(userInputValue)\n    .then(res => {\n      setTimeout(() => {\n        elements.loading.style.display = 'none';\n        if (res.hits.length === 0) {\n          noApiResponse();\n          return;\n        }\n        processImages(res);\n        elements.gallery.style.display = 'flex';\n      }, 1000);\n    })\n    .catch(error => {\n      elements.loading.style.display = 'none';\n      iziToast.error({\n        title: 'Error',\n        message: 'No Images found or an error occurred while fetching images.',\n      });\n    });\n}\n\nelements.form.addEventListener(`submit`, handleFormSubmit);"],"names":["API_KEY","fetchImages","query","url","res","noImagesMessage","iziToast","noApiResponse","createImageCard","webformatURL","largeImageURL","tags","likes","views","comments","downloads","elements","lightbox","SimpleLightbox","handleFormSubmit","event","trimmedInput","userInputValue","emptyInputInfo","processImages","images","imageMarkup","image","error"],"mappings":"6vBAAA,MAAMA,EAAU,qCAET,SAASC,EAAYC,EAAO,CACjC,MAAMC,EAAM,gCAAgCH,CAAO,MAAME,CAAK,2DAE9D,OAAO,MAAMC,CAAG,EAAE,KAAKC,GAAO,CAC5B,GAAI,CAACA,EAAI,GACP,MAAM,IAAI,MAAMA,EAAI,MAAM,EAE5B,OAAOA,EAAI,MACf,CAAG,CACH,CCRO,SAASC,GAAkB,CAChCC,EAAS,KAAK,CACZ,QACE,2EACF,MAAO,cACP,aAAc,QACd,WAAY,QACZ,UAAW,OACf,CAAG,CACH,CAEO,SAASC,GAAgB,CAC9BD,EAAS,KAAK,CACZ,MAAO,OACP,QAAS,mBACT,MAAO,cACP,aAAc,QACd,WAAY,QACZ,UAAW,OACf,CAAG,CACH,CAEO,SAASE,EAAgB,CAC9B,aAAAC,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACF,EAAG,CACD,MAAO;AAAA;AAAA,eAEML,CAAa;AAAA;AAAA;AAAA,kBAGVD,CAAY,UAAUE,CAAI;AAAA;AAAA;AAAA;AAAA,uDAIWC,CAAK;AAAA,uDACLC,CAAK;AAAA,0DACFC,CAAQ;AAAA,2DACPC,CAAS;AAAA;AAAA;AAAA;AAAA;AAAA,GAMpE,CC7CA,MAAMC,EAAW,CACf,UAAW,SAAS,cAAc,gBAAgB,EAClD,KAAM,SAAS,cAAc,iBAAiB,EAC9C,MAAO,SAAS,cAAc,mBAAmB,EACjD,QAAS,SAAS,cAAc,UAAU,EAC1C,QAAS,SAAS,cAAc,cAAc,CAChD,EAEMC,EAAW,IAAIC,EAAe,cAAe,CACjD,SAAU,GACV,gBAAiB,MACjB,aAAc,MACd,YAAa,OACb,gBAAiB,SACjB,aAAc,GAChB,CAAC,EAED,SAASC,EAAiBC,EAAO,CAC/BA,EAAM,eAAc,EAEpB,MAAMC,EAAeL,EAAS,MAAM,MAAM,KAAI,EACxCM,EAAiBN,EAAS,MAAM,MAEtC,SAASO,GAAiB,CACxB,OAAIF,IAAiB,IACnBL,EAAS,UAAU,SAAW,GAC9B,QAAQ,IAAI,gBAAgB,EAC5BX,IACO,KAETW,EAAS,UAAU,SAAW,GACvB,GACR,CAEmB,SAAS,eAAe,aAAa,EAEzD,SAASQ,EAAcpB,EAAK,CAC1B,MAAMqB,EAASrB,EAAI,KACnB,IAAIsB,EAAc,GAClBD,EAAO,QAAQE,GAAS,CACtBD,GAAelB,EAAgBmB,CAAK,CAC1C,CAAK,EACDX,EAAS,QAAQ,UAAYU,EAC7BT,EAAS,QAAO,CACjB,CAKD,GAHAD,EAAS,QAAQ,UAAY,GAC7BA,EAAS,KAAK,QAEVO,EAAc,EAAI,CACpBP,EAAS,UAAU,SAAW,GAC9B,MACD,CAEDA,EAAS,QAAQ,MAAM,QAAU,QAEjCf,EAAYqB,CAAc,EACvB,KAAKlB,GAAO,CACX,WAAW,IAAM,CAEf,GADAY,EAAS,QAAQ,MAAM,QAAU,OAC7BZ,EAAI,KAAK,SAAW,EAAG,CACzBG,IACA,MACD,CACDiB,EAAcpB,CAAG,EACjBY,EAAS,QAAQ,MAAM,QAAU,MAClC,EAAE,GAAI,CACb,CAAK,EACA,MAAMY,GAAS,CACdZ,EAAS,QAAQ,MAAM,QAAU,OACjC,SAAS,MAAM,CACb,MAAO,QACP,QAAS,6DACjB,CAAO,CACP,CAAK,CACL,CAEAA,EAAS,KAAK,iBAAiB,SAAUG,CAAgB"}